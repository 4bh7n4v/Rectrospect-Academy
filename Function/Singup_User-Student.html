<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Section</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .is-invalid {
            border-color: #dc3545 !important;
        }
    </style>
</head>
<body>
    <div class="container d-flex justify-content-center align-items-center mt-3 mb-3">
        <div class="card p-4 w-100" style="max-width: 600px;">
            <div class="text-center">
                <img src="../Resources/rectro-logo.jpg" class="img-fluid mx-auto d-block mb-3" alt="logo">
            </div>
            <div class="text-center">
                <h2>Create Account</h2>
                <p>Please fill in your details to get started</p>
            </div>
<<<<<<< Updated upstream
            <form>
=======
            <form id="registerForm">
>>>>>>> Stashed changes
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" class="form-control mb-3" id="firstName" name="firstName" placeholder="Enter first name" required>

                    <label for="lastName">Last Name</label>
                    <input type="text" class="form-control mb-3" id="lastName" name="lastName" placeholder="Enter last name" required>

                    <label for="email">Email</label>
                    <input type="email" class="form-control mb-3" id="email" name="email" placeholder="Enter your email" required>

                    <label for="password">Password</label>
                    <input type="password" class="form-control mb-3" id="password" name="password" placeholder="Create a Password" required>
                    <p class="password-info text-muted">Password must be at least 8 characters long with numbers, letters, and special characters.</p>

                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" class="form-control mb-4" id="confirmPassword" name="password" placeholder="Confirm Your Password" required>
                </div>
                <div class="form-group">
<<<<<<< Updated upstream
                    <button class="btn btn-primary w-100 mb-3 " onclick="check()">Sign Up</button>
=======
                    <button type="submit" class="btn btn-primary w-100 mb-3">Sign Up</button>
>>>>>>> Stashed changes
                    <p>Already had an account? <a class="text-decoration-none" href="./User-or-Student.html">Sign In</a></p>
                </div>
            </form>
        </div>
    </div>
    <script>
<<<<<<< Updated upstream
        function check() {
            var inputPass = document.getElementById("password").value;
            var confirmPassField = document.getElementById("confirmPassword");
            var confirmPass = confirmPassField.value;

            if (inputPass === confirmPass) {
                window.location.href = './login.html';
            } else {
                confirmPassField.value = '';
                confirmPassField.placeholder = 'Passwords do not match!';
                confirmPassField.classList.add('is-invalid'); 
            }
        }
    </script>
=======
    // Newly Added
    document.getElementById("registerForm").addEventListener("submit", async function(e) {
    e.preventDefault(); // prevent page reload

    // Get form values
    const firstName = document.getElementById("firstName").value.trim();
    const lastName = document.getElementById("lastName").value.trim();
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirmPassword").value;

    // Validation
    if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
    }

    // You can also add: password length check, special characters, etc.

    // Call your API
    const response = await fetch("http://localhost:5000/api/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
        username: email,        // assuming email is username
        password: password,
        firstName: firstName,   // optional: only if backend stores it
        lastName: lastName
        })
    });

    const result = await response.json();
    alert(result.message);

    // Redirect if successful
    if (response.ok) {
        window.location.href = "login.html";
    }
    });
    </script>

>>>>>>> Stashed changes
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
